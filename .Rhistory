test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train[, -c(1,9)], test[, -1], train[, 1], k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = test$PassengerId, Survived = knn_titanic)
submission
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("input_files/train.csv")
test <- read.csv("input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Change Age to 0 = Adult(>=18), 1 = Child(<18)
train$Age <- ifelse(train$Age<18, 1, 0)
test$Age <- ifelse(test$Age<18, 1, 0)
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train[, -c(1,9)], test[, -1], train[, 1], k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = test$PassengerId, Survived = knn_titanic)
submission
knn_titanic
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("input_files/train.csv")
test <- read.csv("input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Change Age to 0 = Adult(>=18), 1 = Child(<18)
train$Age <- ifelse(train$Age<18, 1, 0)
test$Age <- ifelse(test$Age<18, 1, 0)
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train[, -c(1,9)], test[, -1], train[, 1], k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = test$PassengerId, Survived = knn_titanic)
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("input_files/train.csv")
test <- read.csv("input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Change Age to 0 = Adult(>=18), 1 = Child(<18)
train$Age <- ifelse(train$Age<18, 1, 0)
test$Age <- ifelse(test$Age<18, 1, 0)
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train[, -c(1,9)], test[, -1], train[, 1], k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = test$PassengerId, Survived = knn_titanic)
submission
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("input_files/train.csv")
test <- read.csv("input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Change Age to 0 = Adult(>=18), 1 = Child(<18)
train$Age <- ifelse(train$Age<18, 1, 0)
test$Age <- ifelse(test$Age<18, 1, 0)
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train[, -c(1)], test[, -1], train[, 1], k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = test$PassengerId, Survived = knn_titanic)
submission
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("input_files/train.csv")
test <- read.csv("input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Change Age to 0 = Adult(>=18), 1 = Child(<18)
train$Age <- ifelse(train$Age<18, 1, 0)
test$Age <- ifelse(test$Age<18, 1, 0)
# Normalize Fare and Class columns
normalize <- function(x) {
num <- x - min(x)
denom <- max(x) - min(x)
return (num/denom)
}
train$Pclass = normalize(train$Pclass)
test$Pclass = normalize(test$Pclass)
test_length <- length(test$Fare)
fare <- normalize(c(train$Fare, test$Fare))
train$Fare <- fare[1:(length(fare)-test_length)]
test$Fare <- fare[(length(fare)-test_length + 1): length(fare)]
# Remove and rename the Survived column from train
survived <- train$Survived
passengers <- test$PassengerId
train <- train[,-c(1,2,6,7,9)]
test <- test[,-c(1,5,6,8)]
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train, test, survived, k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = passengers,Survived = knn_titanic)
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("input_files/train.csv")
test <- read.csv("input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Change Age to 0 = Adult(>=18), 1 = Child(<18)
train$Age <- ifelse(train$Age<18, 1, 0)
test$Age <- ifelse(test$Age<18, 1, 0)
# Normalize Fare and Class columns
normalize <- function(x) {
num <- x - min(x)
denom <- max(x) - min(x)
return (num/denom)
}
train$Pclass = normalize(train$Pclass)
test$Pclass = normalize(test$Pclass)
test_length <- length(test$Fare)
fare <- normalize(c(train$Fare, test$Fare))
train$Fare <- fare[1:(length(fare)-test_length)]
test$Fare <- fare[(length(fare)-test_length + 1): length(fare)]
# Remove and rename the Survived column from train
survived <- train$Survived
passengers <- test$PassengerId
train <- train[,-c(1,2,6,7,9)]
test <- test[,-c(1,5,6,8)]
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train, test, survived, k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = passengers,Survived = knn_titanic)
submission
source('~/.active-rstudio-document', echo=TRUE)
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("input_files/train.csv")
test <- read.csv("input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Remove and rename the Survived column from train
survived <- train$Survived
passengers <- test$PassengerId
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train[, -c(1,9)], test[, -1], train[, 1], k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = passengers,Survived = knn_titanic)
submission
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("input_files/train.csv")
test <- read.csv("input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Remove and rename the Survived column from train
survived <- train$Survived
passengers <- test$PassengerId
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train[,-c(1,2,6,7,9)], test[,-c(1,5,6,8)], survived, k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = passengers,Survived = knn_titanic)
submission
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("input_files/train.csv")
test <- read.csv("input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train[,-c(1,2,6,7,9)], test[,-c(1,5,6,8)], train$Survived, k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = test$PassengerId,Survived = knn_titanic)
submission
train[,-c(1,2,6,7,9)]
test[,-c(1,5,6,8)]
names(test[,-c(1,5,6,8)])
names(train[,-c(1,2,6,7,9)])
train[1]
name(train[1])
name(train[,1])
names(train[,1])
names(train[1])
names(train[2])
names(train[6])
names(test[6])
names(test[8])
names(test[5])
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("input_files/train.csv")
test <- read.csv("input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train[,-c(1,2,7,9)], test[,-c(1,6,8)], train$Survived, k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = test$PassengerId,Survived = knn_titanic)
submission
names(test[7])
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("input_files/train.csv")
test <- read.csv("input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train[,-c(1,2,9)], test[,-c(1,8)], train$Survived, k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = test$PassengerId,Survived = knn_titanic)
submission
names(test[8])
names(train[9])
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("input_files/train.csv")
test <- read.csv("input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
# Run the KNN function
# The value of K was chosen by the analysis in kaggle_knn_train.R
knn_titanic <- knn(train[,-c(1,2)], test[,-1], train$Survived, k = 5,  l = 0, prob = FALSE, use.all = TRUE)
submission <- data.frame(PassengerId = test$PassengerId,Survived = knn_titanic)
submission
library(rattle)
library(rpart.plot)
library(RColorBrewer)
library(e1071)
library(class)
train <- read.csv("../input_files/train.csv")
test <- read.csv("../input_files/test.csv")
# Remove Name, Ticket and Cabin columns
train <- train[,-c(4,9,11)]
test <- test[,-c(3,8,10)]
# Change Sex to 0 = male, 1 = female
train$Sex <- sapply(as.character(train$Sex), switch, 'male' = 0, 'female' = 1)
test$Sex <- sapply(as.character(test$Sex), switch, 'male' = 0, 'female' = 1)
# Change Embarked column to 0 = 'C', 1 = 'Q', 2 = 'S' and remove NAs
train$Embarked[train$Embarked == ''] <- 'S'
train$Embarked <- sapply(as.character(train$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
test$Embarked <- sapply(as.character(test$Embarked), switch, 'C' = 0, 'Q' = 1, 'S' = 2)
# Remove NAs from Age and Fare columns
train_age <- na.omit(train$Age)
train_age_avg <- mean(train_age)
train$Age[is.na(train$Age)] <- train_age_avg
test_age <- na.omit(test$Age)
test_age_avg <- mean(test_age)
test$Age[is.na(test$Age)] <- test_age_avg
test_fare <- na.omit(test$Fare)
test_fare_avg <- mean(test_fare)
test$Fare[is.na(test$Fare)] <- test_fare_avg
decision_tree <- rpart(Survived ~ Pclass + Sex + Age + SibSp + Parch + Fare + Embarked,
data=train,
method="class")
fancyRpartPlot(decision_tree)
decision_tree_prediction <- predict(decision_tree, newdata = test, type = "class",  control=rpart.control(minsplit=2, cp=0.005))
decision_tree_solution <- data.frame(PassengerId = test$PassengerId, Survived = decision_tree_prediction)
write.csv(decision_tree_solution, file="../tema3/solutions/decision_tree_solution.csv", row.names = FALSE)
naive_bayes <- naiveBayes(Survived ~ Pclass + Sex + Age + SibSp + Parch + Fare + Embarked,
data=train,
method="class")
str(naive_bayes)
summary(naive_bayes)
naive_bayes_prediction <- predict(decision_tree, newdata = test,  type = "class")
naive_bayes_solution <- data.frame(PassengerId = test$PassengerId, Survived = naive_bayes_prediction)
write.csv(naive_bayes_solution, file="../tema3/solutions/naive_bayes_solution.csv", row.names = FALSE)
knn <- knn(train[,-c(1,2)], test[,-1], train$Survived, k = 5,  l = 0, prob = FALSE, use.all = TRUE)
knn_solution <- data.frame(PassengerId = test$PassengerId, Survived = knn)
write.csv(knn_solution, file="../tema3/solutions/knn_solution.csv", row.names = FALSE)
